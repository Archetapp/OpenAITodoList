{"abstract":[{"type":"text","text":"This function sends a chat query to the OpenAI API and retrieves chat stream conversation responses. The Chat API enables you to build chatbots or conversational applications using OpenAI’s powerful natural language models, like GPT-3. The result is returned by chunks."}],"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["macOS"],"tokens":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"chatsStream","kind":"identifier"},{"text":"(","kind":"text"},{"text":"query","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","identifier":"doc:\/\/OpenAI\/documentation\/OpenAI\/ChatQuery","text":"ChatQuery","preciseIdentifier":"s:6OpenAI9ChatQueryV"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"onResult"},{"kind":"text","text":": "},{"text":"@escaping","kind":"attribute"},{"text":" (","kind":"text"},{"text":"Result","kind":"typeIdentifier","preciseIdentifier":"s:s6ResultO"},{"text":"<","kind":"text"},{"identifier":"doc:\/\/OpenAI\/documentation\/OpenAI\/ChatStreamResult","kind":"typeIdentifier","preciseIdentifier":"s:6OpenAI16ChatStreamResultV","text":"ChatStreamResult"},{"kind":"text","text":", "},{"kind":"typeIdentifier","preciseIdentifier":"s:s5ErrorP","text":"Error"},{"kind":"text","text":">) -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"},{"text":", ","kind":"text"},{"text":"completion","kind":"externalParam"},{"text":": ((","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:s5ErrorP","text":"Error"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")?)"}],"languages":["swift"]}]},{"kind":"parameters","parameters":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A "},{"code":"ChatQuery","type":"codeVoice"},{"type":"text","text":" object containing the input parameters for the API request. This includes the lists of message objects for the conversation, the model to be used, and other settings."}]}],"name":"query"},{"name":"onResult","content":[{"inlineContent":[{"type":"text","text":"A closure which receives the result when the API request finishes. The closure’s parameter, "},{"code":"Result<ChatStreamResult, Error>","type":"codeVoice"},{"type":"text","text":", will contain either the "},{"type":"codeVoice","code":"ChatStreamResult"},{"type":"text","text":" object with the model’s response to the conversation, or an error if the request failed."}],"type":"paragraph"}]},{"name":"completion","content":[{"inlineContent":[{"text":"A closure that is being called when all chunks are delivered or uncrecoverable error occured","type":"text"}],"type":"paragraph"}]}]},{"content":[{"level":2,"type":"heading","text":"Discussion","anchor":"discussion"},{"inlineContent":[{"type":"text","text":"Example:"}],"type":"paragraph"},{"syntax":null,"code":["let query = ChatQuery(model: .gpt3_5Turbo, messages: [.init(role: \"user\", content: \"who are you\")])","openAI.chats(query: query) { result in","  \/\/Handle response here","}"],"type":"codeListing"},{"type":"unorderedList","items":[{"content":[]}]}],"kind":"content"}],"sections":[],"kind":"symbol","metadata":{"required":true,"symbolKind":"method","title":"chatsStream(query:onResult:completion:)","role":"symbol","roleHeading":"Instance Method","externalID":"s:6OpenAI0A10AIProtocolP11chatsStream5query8onResult10completionyAA9ChatQueryV_ys0H0OyAA0jeH0Vs5Error_pGcysAN_pSgcSgtF","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"chatsStream","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"query"},{"kind":"text","text":": "},{"text":"ChatQuery","preciseIdentifier":"s:6OpenAI9ChatQueryV","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"onResult","kind":"externalParam"},{"text":": (","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:s6ResultO","text":"Result"},{"text":"<","kind":"text"},{"kind":"typeIdentifier","text":"ChatStreamResult","preciseIdentifier":"s:6OpenAI16ChatStreamResultV"},{"text":", ","kind":"text"},{"preciseIdentifier":"s:s5ErrorP","text":"Error","kind":"typeIdentifier"},{"text":">) -> ","kind":"text"},{"preciseIdentifier":"s:s4Voida","text":"Void","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"completion","kind":"externalParam"},{"kind":"text","text":": (("},{"kind":"typeIdentifier","preciseIdentifier":"s:s5ErrorP","text":"Error"},{"text":"?) -> ","kind":"text"},{"preciseIdentifier":"s:s4Voida","kind":"typeIdentifier","text":"Void"},{"kind":"text","text":")?)"}],"modules":[{"name":"OpenAI"}]},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/openai\/openaiprotocol\/chatsstream(query:onresult:completion:)"]}],"identifier":{"url":"doc:\/\/OpenAI\/documentation\/OpenAI\/OpenAIProtocol\/chatsStream(query:onResult:completion:)","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/OpenAI\/documentation\/OpenAI","doc:\/\/OpenAI\/documentation\/OpenAI\/OpenAIProtocol"]]},"schemaVersion":{"major":0,"patch":0,"minor":3},"references":{"doc://OpenAI/documentation/OpenAI/ChatStreamResult":{"url":"\/documentation\/openai\/chatstreamresult","identifier":"doc:\/\/OpenAI\/documentation\/OpenAI\/ChatStreamResult","navigatorTitle":[{"kind":"identifier","text":"ChatStreamResult"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ChatStreamResult","kind":"identifier"}],"abstract":[],"type":"topic","title":"ChatStreamResult","role":"symbol","kind":"symbol"},"doc://OpenAI/documentation/OpenAI":{"type":"topic","kind":"symbol","abstract":[],"role":"collection","url":"\/documentation\/openai","title":"OpenAI","identifier":"doc:\/\/OpenAI\/documentation\/OpenAI"},"doc://OpenAI/documentation/OpenAI/OpenAIProtocol":{"identifier":"doc:\/\/OpenAI\/documentation\/OpenAI\/OpenAIProtocol","role":"symbol","type":"topic","title":"OpenAIProtocol","navigatorTitle":[{"text":"OpenAIProtocol","kind":"identifier"}],"kind":"symbol","abstract":[],"url":"\/documentation\/openai\/openaiprotocol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"OpenAIProtocol"}]},"doc://OpenAI/documentation/OpenAI/ChatQuery":{"title":"ChatQuery","type":"topic","kind":"symbol","identifier":"doc:\/\/OpenAI\/documentation\/OpenAI\/ChatQuery","abstract":[{"type":"text","text":"Creates a model response for the given chat conversation"},{"type":"text","text":" "},{"type":"text","text":"https:\/\/platform.openai.com\/docs\/guides\/text-generation"}],"fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"ChatQuery","kind":"identifier"}],"navigatorTitle":[{"text":"ChatQuery","kind":"identifier"}],"url":"\/documentation\/openai\/chatquery","role":"symbol"},"doc://OpenAI/documentation/OpenAI/OpenAIProtocol/chatsStream(query:onResult:completion:)":{"identifier":"doc:\/\/OpenAI\/documentation\/OpenAI\/OpenAIProtocol\/chatsStream(query:onResult:completion:)","abstract":[{"text":"This function sends a chat query to the OpenAI API and retrieves chat stream conversation responses. The Chat API enables you to build chatbots or conversational applications using OpenAI’s powerful natural language models, like GPT-3. The result is returned by chunks.","type":"text"}],"required":true,"kind":"symbol","title":"chatsStream(query:onResult:completion:)","url":"\/documentation\/openai\/openaiprotocol\/chatsstream(query:onresult:completion:)","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"chatsStream","kind":"identifier"},{"text":"(","kind":"text"},{"text":"query","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:6OpenAI9ChatQueryV","text":"ChatQuery","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"onResult"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"Result","preciseIdentifier":"s:s6ResultO"},{"text":"<","kind":"text"},{"text":"ChatStreamResult","kind":"typeIdentifier","preciseIdentifier":"s:6OpenAI16ChatStreamResultV"},{"kind":"text","text":", "},{"text":"Error","kind":"typeIdentifier","preciseIdentifier":"s:s5ErrorP"},{"text":">) -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"text":": ((","kind":"text"},{"preciseIdentifier":"s:s5ErrorP","kind":"typeIdentifier","text":"Error"},{"text":"?) -> ","kind":"text"},{"preciseIdentifier":"s:s4Voida","text":"Void","kind":"typeIdentifier"},{"kind":"text","text":")?)"}],"type":"topic"}}}